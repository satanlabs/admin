(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{522:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));a(0),a(513);var n=a(10);const s=e=>Object(n.jsxs)("div",{className:"animated fadeIn pt-3 text-center text-danger",children:[Object(n.jsx)("i",{className:"fa fa-warning",style:{color:"red",fontSize:"40px"}}),Object(n.jsx)("h2",{children:"We're Sorry."}),e.detailShow&&Object(n.jsxs)("div",{children:["An Error has occurred, please refresh / reload the page.",Object(n.jsx)("br",{})]})]}),i=()=>Object(n.jsxs)("div",{className:"animated fadeIn text-center",children:[Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"text-primary",children:"L O A D I N G"}),Object(n.jsx)("br",{})]}),r=()=>Object(n.jsxs)("div",{className:"animated fadeIn pt-3 text-center",children:[Object(n.jsx)("h1",{className:"spinner-grow text-success"}),Object(n.jsx)("p",{className:"text-success",children:"S U C C E S S"})]})},523:function(e,t,a){"use strict";a.d(t,"j",(function(){return s})),a.d(t,"e",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"h",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return j})),a.d(t,"d",(function(){return h}));const n=" : ",s=()=>{window.location.reload()},i=e=>{window.open(e,"_blank")},r=(e,t)=>{let a=[];return e.forEach((e=>{(o(e.episode,t)||o(e.shortDesc,t))&&a.push(e)})),a},o=(e,t)=>(t+="",e=(e+="").toUpperCase(),t=t.toUpperCase(),e.includes(t));function l(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";const s=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let i=-1;const r=10**a;do{e/=n,++i}while(Math.round(Math.abs(e)*r)/r>=n&&i<s.length-1);return e.toFixed(a)+" "+s[i]}const c=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if("true"!==localStorage.logsEnabled)return;let r=e+" - "+t+"() called"+n;a&&(r+=a+n),s?(r+=s+n,console.log(r,i)):console.log(r)},d=()=>{window.history.back()},u=()=>{window.open("/","_self")},b=(e,t)=>{const a=e.filter((e=>e.id==t));return 0==a.length?null:a[0]},j=e=>{navigator.clipboard.writeText(e)},h=(e,t,a)=>{const n=t/e*a;return console.log("quantity = ".concat(e,", amount = ").concat(t,", perQuantity = ").concat(a,", final = ").concat(n)),n}},531:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return d}));const n="application/json",s=()=>({method:"GET",headers:{}}),i=e=>({method:"POST",headers:{"Content-Type":n},body:e}),r=e=>({method:"POST",headers:{},body:e}),o=e=>({method:"GET",headers:{Authorization:e}}),l=(e,t)=>({method:"POST",headers:{"Content-Type":n,Authorization:t},body:e}),c=(e,t)=>({method:"PUT",headers:{"Content-Type":n,Authorization:t},body:e}),d=(e,t)=>({method:"DELETE",headers:{"Content-Type":n,Authorization:t},body:e})},533:function(e,t,a){"use strict";var n=a(0),s=a(896),i=a(864),r=a(522),o=a(10);class l extends n.Component{render(){let e=Object(o.jsx)("div",{});return e=0==this.props.loadingModalState?Object(o.jsx)(r.b,{}):1==this.props.loadingModalState?Object(o.jsx)(r.c,{}):Object(o.jsx)(r.a,{}),Object(o.jsx)(s.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-primary",children:Object(o.jsx)(i.a,{children:Object(o.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:e})})})}}t.a=l},534:function(e,t,a){"use strict";var n=a(0),s=a(896),i=a(864),r=a(865),o=a(564),l=a(523),c=a(522),d=a(10);class u extends n.Component{render(){return Object(d.jsxs)(s.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-danger",children:[Object(d.jsx)(i.a,{children:Object(d.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:Object(d.jsx)(c.a,{detailShow:!0})})}),Object(d.jsxs)(r.a,{children:[Object(d.jsx)(o.a,{color:"secondary",onClick:l.f,children:"BACK"}),"\xa0\xa0",Object(d.jsx)(o.a,{color:"secondary",onClick:l.j,children:"RELOAD"}),"\xa0\xa0",Object(d.jsx)(o.a,{color:"secondary",children:"LOGOUT"}),"\xa0\xa0",Object(d.jsx)(o.a,{color:"primary",onClick:l.g,children:"HOME"})]})]})}}t.a=u},535:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i}));const n="https://backend.satanlabs.com/auth-chowkidar",s="https://backend.satanlabs.com/nexus/weight",i="https://backend.satanlabs.com/nexus/price_tracker"},543:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c}));const n=[{value:"MILLILITER",label:"MILLILITER \ud83d\udca7"},{value:"GRAM",label:"GRAM \ud83c\udf4e"},{value:"COUNT",label:"COUNT \ud83e\udd5a"}],s=[{value:"ON_DEMAND",label:"ON_DEMAND"},{value:"BILL",label:"BILL"}],i=[{value:"PRODUCT",label:"PRODUCT \ud83c\udf4e"},{value:"SERVICE",label:"SERVICE"}],r=[{value:"YES",label:"YES \u2705",backendValue:!0},{value:"NO",label:"NO \u274c",backendValue:!1}],o=[{value:"UPI",label:"UPI \ud83c\uddee\ud83c\uddf3 \ud83e\uddfe"},{value:"NET_BANKING",label:"NET BANKING \ud83d\udd17"},{value:"CREDIT_CARD",label:"CREDIT CARD \ud83d\udcb3 "},{value:"DEBIT_CARD",label:"DEBIT CARD \ud83d\udcb3 \ud83c\udfe7"},{value:"CASH",label:"CASH \ud83d\udcb0 \ud83d\udcb5"}],l=[{value:"SBI",label:"SBI"},{value:"AXIS",label:"AXIS"}],c=[{value:"ONLINE",label:"ONLINE \ud83d\udd17"},{value:"STORE_BOUGHT",label:"STORE_BOUGHT \ud83c\udfea"}]},789:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(540),i=a.n(s),r=a(531),o=a(124),l=a(523),c=a(522),d=a(533),u=a(534),b=a(513),j=a(524),h=a(560),O=a(551),g=a(543),m=a(535),f=a(10);const y="Category.js",x={isLoaded:!1,loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!1,categoryListData:[],newCategoryData:{unitOfMeasurement:null,categoryType:null,commodityType:null,yesAndNo:null}},p=[{accessorKey:"id",header:"ID",enableEditing:!1},{accessorKey:"name",header:"Name",enableEditing:!0},{accessorKey:"unitOfMeasurement",header:"Unit Of Measurement",enableEditing:!0},{accessorKey:"metadata.type",header:"Category Type",enableEditing:!0},{accessorKey:"metadata.commodityType",header:"Commodity Type",enableEditing:!0},{accessorKey:"metadata.eligibleForNoBrand",header:"Eligible For NoBrand ?",enableEditing:!1,Cell:e=>{let{renderedCellValue:t,row:a}=e;return t?"YES":"NO"}},{accessorKey:"createdAt",header:"Created At",enableEditing:!1,Cell:e=>{let{renderedCellValue:t,row:a}=e;return i()(t).zone("IST").format("YYYY/MM/DD HH:mm:ss ddd")}},{accessorKey:"updatedAt",header:"Updated At",enableEditing:!1,Cell:e=>{let{renderedCellValue:t,row:a}=e;return i()(t).zone("IST").format("YYYY/MM/DD HH:mm:ss ddd")}}];class C extends n.Component{constructor(e){super(e),this.submitCreateCategoryForm=e=>{e.preventDefault();let t={name:e.target.inputName.value};!1!==this.doesStateContainAllRequiredCategoryParams()?(t.unitOfMeasurement=this.state.newCategoryData.unitOfMeasurement,t.metadata={type:this.state.newCategoryData.categoryType,commodityType:this.state.newCategoryData.commodityType,eligibleForNoBrand:"YES"===this.state.newCategoryData.yesAndNo},this.setState({loadingModalVisible:!0,loadingModalState:0}),this.callCreateCategoryApi(t)):alert("Please fill all unfilled items in the form")},this.state=JSON.parse(JSON.stringify(x))}resetStateToDefault(){this.setState(JSON.parse(JSON.stringify(x)))}reloadData(){this.resetStateToDefault(),this.fetchCategoryDataList()}componentDidMount(){document.title="Expenses - Category",this.fetchCategoryDataList()}fetchCategoryDataList(){let e=m.b+"/category/list?offset=0&from=admin-portal";const t=Object(o.a)();fetch(e,Object(r.d)(t.authToken)).then((e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout((()=>{Object(o.d)(),Object(l.j)()}),500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)})).then((e=>{Object(l.a)(y,"fetchCategoryDataList","FETCH_1","result",e),1001===e.code?this.setState({isLoaded:!0,categoryListData:e.data}):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}),(e=>{Object(l.a)(y,"fetchCategoryDataList","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}))}doesStateContainAllRequiredCategoryParams(){return null!==this.state.newCategoryData.unitOfMeasurement&&null!==this.state.newCategoryData.categoryType&&null!==this.state.newCategoryData.commodityType&&null!==this.state.newCategoryData.yesAndNo}callCreateCategoryApi(e){let t=m.b+"/category/save?offset=0&from=admin-portal";const a=Object(o.a)();fetch(t,Object(r.f)(JSON.stringify(e),a.authToken)).then((e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout((()=>{Object(o.d)(),Object(l.j)()}),500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)})).then((e=>{Object(l.a)(y,"callCreateCategoryApi","FETCH_1","result",e),1001===e.code?(this.setState({loadingModalState:1}),setTimeout((()=>{this.reloadData()}),200)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}),(e=>{Object(l.a)(y,"callCreateCategoryApi","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}))}render(){return Object(l.a)(y,"render","","this.state",this.state),this.state.isLoaded?Object(f.jsxs)("div",{children:[Object(f.jsxs)("h1",{children:["CATEGORY \xa0\xa0\xa0\xa0\xa0",Object(f.jsx)(b.f,{color:"success",className:"px-4",onClick:()=>this.reloadData(),children:"Reload Data"})]}),Object(f.jsx)("br",{}),this.state.isLoaded?Object(f.jsx)(h.a,{initialState:{density:"compact"},columns:p,data:this.state.categoryListData,enablePagination:!0,editingMode:"row",enableEditing:!0,onEditingRowSave:e=>this.handleSaveRowEdits(e)}):Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(b.w,{children:Object(f.jsx)(b.vb,{className:"justify-content-center",children:Object(f.jsx)(b.u,{md:"8",children:Object(f.jsx)(b.m,{children:Object(f.jsx)(b.j,{className:"p-4",children:Object(f.jsx)(b.k,{children:Object(f.jsxs)(b.J,{onSubmit:this.submitCreateCategoryForm,children:[Object(f.jsx)("h1",{children:"Save a new category"}),Object(f.jsxs)(b.U,{className:"mb-3",children:[Object(f.jsx)(b.W,{children:Object(f.jsx)(b.X,{children:Object(f.jsx)(j.a,{name:"cilPencil"})})}),Object(f.jsx)(b.R,{placeholder:"Category Name",autoComplete:"on",type:"text",step:"any",id:"inputName",label:"Category Name",required:!0})]}),Object(f.jsx)(j.a,{name:"cilPencil"})," ",Object(f.jsx)("b",{children:"Commodity Type :"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.a,{onChange:e=>{const t=this.state.newCategoryData;t.commodityType=e.value,this.setState({newCategoryData:t})},options:g.b}),Object(f.jsx)("br",{}),Object(f.jsx)(j.a,{name:"cilPencil"})," ",Object(f.jsx)("b",{children:"Category Type :"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.a,{onChange:e=>{const t=this.state.newCategoryData;t.categoryType=e.value,this.setState({newCategoryData:t})},options:g.a}),Object(f.jsx)("br",{}),Object(f.jsx)(j.a,{name:"cilPencil"})," ",Object(f.jsx)("b",{children:"Unit of measurement :"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.a,{onChange:e=>{const t=this.state.newCategoryData;t.unitOfMeasurement=e.value,this.setState({newCategoryData:t})},options:g.f}),Object(f.jsx)("br",{}),Object(f.jsx)(j.a,{name:"cilPencil"})," ",Object(f.jsx)("b",{children:"Eligible For NoBrand ?"}),Object(f.jsx)("br",{}),Object(f.jsx)(O.a,{onChange:e=>{const t=this.state.newCategoryData;t.yesAndNo=e.value,this.setState({newCategoryData:t})},options:g.g}),Object(f.jsx)("br",{}),Object(f.jsxs)(b.vb,{children:[Object(f.jsx)(b.u,{xs:"6",children:Object(f.jsx)(b.f,{color:"success",className:"px-4",type:"submit",children:"SAVE"})}),Object(f.jsx)(b.u,{xs:"6",className:"text-right",children:Object(f.jsx)(b.f,{color:"danger",className:"px-0",onClick:()=>this.reloadData(),children:"\xa0Reset values\xa0"})})]})]})})})})})})}),Object(f.jsx)(d.a,{visible:this.state.loadingModalVisible,loadingModalState:this.state.loadingModalState}),Object(f.jsx)(u.a,{visible:this.state.failureModalVisible})]}):Object(f.jsx)(c.b,{})}}t.default=C}}]);
//# sourceMappingURL=18.a3047704.chunk.js.map