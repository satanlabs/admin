(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[33],{634:function(e,t,a){"use strict";a(1);var s=a(624),r=a(20);t.a=function(){return Object(r.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:Object(r.jsx)(s.Gb,{color:"success",size:"sm"})})}},638:function(e,t,a){"use strict";var s=a(13),r=a(30),n=a(1),i=a.n(n),o=a(58),l=a.n(o),c=a(627),h=a.n(c),d=a(626),u={tag:d.n,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},j=function(e){var t=e.className,a=e.cssModule,n=e.color,o=e.body,l=e.inverse,c=e.outline,u=e.tag,j=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),g=Object(d.j)(h()(t,"card",!!l&&"text-white",!!o&&"card-body",!!n&&(c?"border":"bg")+"-"+n),a);return i.a.createElement(u,Object(s.a)({},b,{className:g,ref:j}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j},754:function(e,t,a){"use strict";a.r(t);var s=a(159),r=a(160),n=a(162),i=a(161),o=a(1),l=a(661),c=a.n(l),h=a(638),d=a(755),u=a(645),j=(a(646),a(634)),b=a(20),g=["humidity","pressure","temperature"],p={200:"thunderstorm with light rain",201:"thunderstorm with rain",202:"thunderstorm with heavy rain",210:"light thunderstorm",211:"thunderstorm",212:"heavy thunderstorm",221:"ragged thunderstorm",230:"thunderstorm with light drizzle",231:"thunderstorm with drizzle",232:"thunderstorm with heavy drizzle",300:"light intensity drizzle",301:"drizzle",302:"heavy intensity drizzle",310:"light intensity drizzle rain",311:"drizzle rain",312:"heavy intensity drizzle rain",313:"shower rain and drizzle",314:"heavy shower rain and drizzle",321:"shower drizzle",500:"light rain",501:"moderate rain",502:"heavy intensity rain",503:"very heavy rain",504:"extreme rain",511:"freezing rain",520:"light intensity shower rain",521:"shower rain",522:"heavy intensity shower rain",531:"ragged shower rain",600:"light snow",601:"snow",602:"heavy snow",611:"sleet",612:"shower sleet",615:"light rain and snow",616:"rain and snow",620:"light shower snow",621:"shower snow",622:"heavy shower snow",701:"mist",711:"smoke",721:"haze",731:"sand,dust whirls",741:"fog",751:"sand",761:"dust",762:"volcanic ash",771:"squalls",781:"tornado",800:"clear sky",801:"few clouds",802:"scattered clouds",803:"broken clouds",804:"overcast clouds",900:"tornado",901:"tropical storm",902:"hurricane",903:"cold",904:"hot",905:"windy",906:"hail",950:"setting",951:"calm",952:"light breeze",953:"gentle breeze",954:"moderate breeze",955:"fresh breeze",956:"strong breeze",957:"high wind, near gale",958:"gale",959:"severe gale",960:"storm",961:"violent storm",962:"hurricane"},m=["scatter","bar"],w=["lines","lines+markers","markers"],O=["red","green","blue","#b59a14","#b514a5","black","orange"],f=function(e){Object(n.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).getRawWeatherDataFromApi=function(e){r.setState({isLoaded:!1}),fetch("http://192.168.1.109/nexus/weather-data?data=123&offset="+e).then((function(e){return e.json()})).then((function(e){r.setState({rawData:e.data}),r.plotDataForWeather(),r.showLatestData()}),(function(e){console.log("ERROR :",e)}))},r.showLatestData=function(){var e=r.state.rawData[r.state.rawData.length-1],t=JSON.parse(e.rawData);r.setState({latestWeatherConditions:e,latestRawData:t})},r.cleanDataForPlotting=function(e){var t=[],a=Math.floor(Math.random()*O.length),s=[],n=[];return r.state.rawData.forEach((function(t){s.push(new Date(parseInt(t.timestamp))),n.push(t[e])})),t.push({x:[].concat(s),y:[].concat(n),type:r.state.graphType,mode:r.state.graphMode,marker:{color:O[a]},name:"".concat(e)}),t},r.plotDataForWeather=function(){r.setState({isLoaded:!1}),setTimeout((function(){r.setState({dataForPlot_humidity:r.cleanDataForPlotting(g[0]),dataForPlot_pressure:r.cleanDataForPlotting(g[1]),dataForPlot_temperature:r.cleanDataForPlotting(g[2]),isLoaded:!0})}),250)},r.degToCompass=function(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][parseInt(e/22.5+.5)%16]},r.state={isLoaded:!1,graphType:m[0],graphMode:w[1],latestWeatherConditions:null,latestRawData:null,offset:240},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getRawWeatherDataFromApi(this.state.offset),setTimeout((function(){console.log("reloading page after every 2.5 min :",new Date),window.location.reload()}),15e4)}},{key:"render",value:function(){var e=this;console.log("WeatherGraph.js render() : this.state :",this.state);var t=.94*window.innerWidth,a=.94*window.innerHeight;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{style:{textAlign:"right"},children:Object(b.jsxs)("select",{onChange:function(t){e.getRawWeatherDataFromApi(t.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select no of items"}),Object(b.jsx)("option",{value:0,children:"All items"},"all__a"),Object(b.jsx)("option",{value:10,children:"10"},"10__a"),Object(b.jsx)("option",{value:100,children:"100"},"100__a"),Object(b.jsx)("option",{value:1e3,children:"1000"},"1000__a"),Object(b.jsx)("option",{value:1e4,children:"10000"},"10000__a"),Object(b.jsx)("option",{value:1e5,children:"10000"},"100000__a"),Object(b.jsx)("option",{value:1e6,children:"1000000"},"1000000__a")]})}),this.state.isLoaded?Object(b.jsx)(h.a,{children:Object(b.jsxs)(d.a,{children:[Object(b.jsxs)("h2",{children:["Temperature : ",Number(this.state.latestWeatherConditions.temperature).toFixed(2)," \xba C"]}),Object(b.jsxs)("h2",{children:["Humidity : ",this.state.latestWeatherConditions.humidity," % "]}),Object(b.jsxs)("h2",{children:["Pressure : ",this.state.latestWeatherConditions.pressure," hPa "]}),Object(b.jsxs)("h2",{children:["Cloudiness : ",this.state.latestRawData.clouds.all," % "]}),Object(b.jsxs)("h2",{children:["Sunrise : ",new Date(1e3*this.state.latestRawData.sys.sunrise).toLocaleTimeString()," AM"]}),Object(b.jsxs)("h2",{children:["Sunset : ",new Date(1e3*this.state.latestRawData.sys.sunset).toLocaleTimeString()," PM"]}),Object(b.jsxs)("h2",{children:["Visibility : ",this.state.latestRawData.visibility," meters "]}),Object(b.jsxs)("h2",{children:["Wind -speed : ",(3.6*this.state.latestRawData.wind.speed).toFixed(2)," kmph "]}),Object(b.jsxs)("h2",{children:["Wind -direction : ",this.degToCompass(this.state.latestRawData.wind.deg)]}),Object(b.jsxs)("h2",{children:[this.state.latestRawData.weather[0].main," ",p[this.state.latestRawData.weather[0].id],Object(b.jsx)("img",{height:"60px",src:"https://openweathermap.org/img/wn/".concat(this.state.latestRawData.weather[0].icon,"@4x.png")})]}),Object(b.jsxs)("h5",{children:["last updated : ",this.state.latestWeatherConditions.dateAndTime]})]})}):Object(b.jsx)(j.a,{}),this.state.isLoaded?Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:"Change Type :"}),"\xa0\xa0",Object(b.jsx)(u.a,{color:"primary",size:"lg",onClick:function(){e.setState({graphType:"scatter"}),e.plotDataForWeather()},children:"scatter TYPE"}),"\xa0\xa0\xa0\xa0",Object(b.jsx)(u.a,{color:"warning",size:"lg",onClick:function(){e.setState({graphType:"bar"}),e.plotDataForWeather()},children:"bar TYPE"}),"\xa0\xa0\xa0\xa0 CURRENT Type : [ ",this.state.graphType," ]",Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:"Change Mode :"}),"\xa0\xa0",Object(b.jsx)(u.a,{color:"primary",size:"lg",onClick:function(){e.setState({graphMode:"lines"}),e.plotDataForWeather()},children:"lines MODE"}),"\xa0\xa0\xa0\xa0",Object(b.jsx)(u.a,{color:"danger",size:"lg",onClick:function(){e.setState({graphMode:"lines+markers"}),e.plotDataForWeather()},children:"lines+markers MODE"}),"\xa0\xa0\xa0\xa0",Object(b.jsx)(u.a,{color:"warning",size:"lg",onClick:function(){e.setState({graphMode:"markers"}),e.plotDataForWeather()},children:"markers MODE"}),"\xa0\xa0\xa0\xa0 CURRENT Mode : [ ",this.state.graphMode," ]",Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]}),Object(b.jsx)(c.a,{showlegend:!1,data:this.state.dataForPlot_temperature,layout:{width:t,height:a,title:"Temperature - Celsius"}}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)(c.a,{showlegend:!1,data:this.state.dataForPlot_humidity,layout:{width:t,height:a,title:"Humidity - percent"}}),Object(b.jsx)("br",{}),Object(b.jsx)("hr",{}),Object(b.jsx)(c.a,{showlegend:!1,data:this.state.dataForPlot_pressure,layout:{width:t,height:a,title:"Pressure - Bar"}})]}):Object(b.jsx)(j.a,{})]})}}]),a}(o.Component);t.default=f},755:function(e,t,a){"use strict";var s=a(13),r=a(30),n=a(1),i=a.n(n),o=a(58),l=a.n(o),c=a(627),h=a.n(c),d=a(626),u={tag:d.n,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},j=function(e){var t=e.className,a=e.cssModule,n=e.innerRef,o=e.tag,l=Object(r.a)(e,["className","cssModule","innerRef","tag"]),c=Object(d.j)(h()(t,"card-body"),a);return i.a.createElement(o,Object(s.a)({},l,{className:c,ref:n}))};j.propTypes=u,j.defaultProps={tag:"div"},t.a=j}}]);
//# sourceMappingURL=33.eb852656.chunk.js.map