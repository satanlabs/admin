(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[20],{554:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n}),a.d(e,"c",function(){return l});a(1),a(551);var s=a(12);const i=t=>Object(s.jsxs)("div",{className:"animated fadeIn pt-3 text-center text-danger",children:[Object(s.jsx)("i",{className:"fa fa-warning",style:{color:"red",fontSize:"40px"}}),Object(s.jsx)("h2",{children:"We're Sorry."}),t.detailShow&&Object(s.jsxs)("div",{children:["An Error has occurred, please refresh / reload the page.",Object(s.jsx)("br",{})]})]}),n=()=>Object(s.jsxs)("div",{className:"animated fadeIn text-center",children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"text-primary",children:"L O A D I N G"}),Object(s.jsx)("br",{})]}),l=()=>Object(s.jsxs)("div",{className:"animated fadeIn pt-3 text-center",children:[Object(s.jsx)("h1",{className:"spinner-grow text-success"}),Object(s.jsx)("p",{className:"text-success",children:"S U C C E S S"})]})},561:function(t,e,a){"use strict";a.d(e,"k",function(){return n}),a.d(e,"f",function(){return r}),a.d(e,"j",function(){return l}),a.d(e,"i",function(){return d}),a.d(e,"a",function(){return c}),a.d(e,"g",function(){return u}),a.d(e,"h",function(){return b}),a.d(e,"d",function(){return h}),a.d(e,"c",function(){return j}),a.d(e,"e",function(){return f}),a.d(e,"b",function(){return i});const s=" : ",i=" (IST)",n=()=>{window.location.reload()},l=t=>{window.open(t,"_blank")},r=(t,e)=>{let a=[];return t.forEach(t=>{(o(t.episode,e)||o(t.shortDesc,e))&&a.push(t)}),a},o=(t,e)=>(e+="",t=(t+="").toUpperCase(),e=e.toUpperCase(),t.includes(e));function d(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const s=e?1e3:1024;if(Math.abs(t)<s)return t+" B";const i=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let n=-1;const l=10**a;do{t/=s,++n}while(Math.round(Math.abs(t)*l)/l>=s&&n<i.length-1);return t.toFixed(a)+" "+i[n]}const c=function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if("true"!==localStorage.logsEnabled)return;let l=t+" - "+e+"() called"+s;a&&(l+=a+s),i?(l+=i+s,console.log(l,n)):console.log(l)},u=()=>{window.history.back()},b=()=>{window.open("/","_self")},h=(t,e)=>{const a=t.filter(t=>t.id==e);return 0==a.length?null:a[0]},j=t=>{navigator.clipboard.writeText(t)},f=(t,e,a)=>e/t*a},567:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"e",function(){return n}),a.d(e,"b",function(){return l}),a.d(e,"d",function(){return r}),a.d(e,"f",function(){return o}),a.d(e,"g",function(){return d}),a.d(e,"a",function(){return c});const s="application/json",i=()=>({method:"GET",headers:{}}),n=t=>({method:"POST",headers:{"Content-Type":s},body:t}),l=t=>({method:"POST",headers:{},body:t}),r=t=>({method:"GET",headers:{Authorization:t}}),o=(t,e)=>({method:"POST",headers:{"Content-Type":s,Authorization:e},body:t}),d=(t,e)=>({method:"PUT",headers:{"Content-Type":s,Authorization:e},body:t}),c=(t,e)=>({method:"DELETE",headers:{"Content-Type":s,Authorization:e},body:t})},568:function(t,e,a){"use strict";var s=a(1),i=a(967),n=a(940),l=a(554),r=a(12);class o extends s.Component{render(){let t=Object(r.jsx)("div",{});return t=0==this.props.loadingModalState?Object(r.jsx)(l.b,{}):1==this.props.loadingModalState?Object(r.jsx)(l.c,{}):Object(r.jsx)(l.a,{}),Object(r.jsx)(i.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-primary",children:Object(r.jsx)(n.a,{children:Object(r.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:t})})})}}e.a=o},570:function(t,e,a){"use strict";var s=a(1),i=a(967),n=a(940),l=a(941),r=a(611),o=a(561),d=a(554),c=a(12);class u extends s.Component{render(){return Object(c.jsxs)(i.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-danger",children:[Object(c.jsx)(n.a,{children:Object(c.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:Object(c.jsx)(d.a,{detailShow:!0})})}),Object(c.jsxs)(l.a,{children:[Object(c.jsx)(r.a,{color:"secondary",onClick:o.g,children:"BACK"}),"\xa0\xa0",Object(c.jsx)(r.a,{color:"secondary",onClick:o.k,children:"RELOAD"}),"\xa0\xa0",Object(c.jsx)(r.a,{color:"secondary",children:"LOGOUT"}),"\xa0\xa0",Object(c.jsx)(r.a,{color:"primary",onClick:o.h,children:"HOME"})]})]})}}e.a=u},571:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"d",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"b",function(){return l});const s="https://backend.satanlabs.com/auth-chowkidar",i="https://backend.satanlabs.com/nexus/weight",n="https://backend.satanlabs.com/nexus/price_tracker",l="http://localhost:7979/nexus/logger"},585:function(t,e,a){"use strict";a.d(e,"f",function(){return s}),a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n}),a.d(e,"g",function(){return l}),a.d(e,"e",function(){return r}),a.d(e,"d",function(){return o}),a.d(e,"c",function(){return d});const s=[{value:"MILLILITER",label:"MILLILITER \ud83d\udca7"},{value:"GRAM",label:"GRAM \ud83c\udf4e"},{value:"COUNT",label:"COUNT \ud83e\udd5a"}],i=[{value:"ON_DEMAND",label:"ON_DEMAND"},{value:"BILL",label:"BILL"}],n=[{value:"PRODUCT",label:"PRODUCT \ud83c\udf4e"},{value:"SERVICE",label:"SERVICE"}],l=[{value:"YES",label:"YES \u2705",backendValue:!0},{value:"NO",label:"NO \u274c",backendValue:!1}],r=[{value:"UPI",label:"UPI \ud83c\uddee\ud83c\uddf3 \ud83e\uddfe"},{value:"NET_BANKING",label:"NET BANKING \ud83d\udd17"},{value:"CREDIT_CARD",label:"CREDIT CARD \ud83d\udcb3 "},{value:"DEBIT_CARD",label:"DEBIT CARD \ud83d\udcb3 \ud83c\udfe7"},{value:"CASH",label:"CASH \ud83d\udcb0 \ud83d\udcb5"}],o=[{value:"SBI",label:"SBI"},{value:"AXIS",label:"AXIS"},{value:"AMEX",label:"AMEX"}],d=[{value:"ONLINE",label:"ONLINE \ud83d\udd17"},{value:"STORE_BOUGHT",label:"STORE_BOUGHT \ud83c\udfea"}]},862:function(t,e,a){"use strict";a.r(e);var s=a(1),i=a(576),n=a.n(i),l=a(567),r=a(138),o=a(561),d=a(554),c=a(551),u=a(564),b=a(568),h=a(570),j=a(586),f=a(596),O=(a(585),a(571)),g=a(12);const m="Product.js",p={isLoaded:!1,loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!1,categoryListData:[],brandListData:[],productListData:[],categoryListDataSelectTagSpecific:[],brandListDataSelectTagSpecific:[],newProductData:{categoryId:null,brandId:null}},S=[{accessorKey:"id",header:"ID",enableEditing:!1},{accessorKey:"name",header:"name",enableEditing:!0},{accessorKey:"category",header:"category",enableEditing:!0,Cell:t=>{let{renderedCellValue:e,row:a}=t;return e.name+" [ "+e.unitOfMeasurement+" ]["+e.id+"]"}},{accessorKey:"brand",header:"Brand",enableEditing:!0,Cell:t=>{let{renderedCellValue:e,row:a}=t;return null===e?"NO-BRAND \ud83d\udeab":e.name+" ["+e.id+"]"}},{accessorKey:"createdAt",header:"Created At",enableEditing:!1,Cell:t=>{let{renderedCellValue:e,row:a}=t;return n()(e).zone("IST").format("YYYY/MM/DD HH:mm:ss ddd")}},{accessorKey:"updatedAt",header:"Updated At",enableEditing:!1,Cell:t=>{let{renderedCellValue:e,row:a}=t;return n()(e).zone("IST").format("YYYY/MM/DD HH:mm:ss ddd")}}];class x extends s.Component{constructor(t){super(t),this.submitCreateProductForm=t=>{t.preventDefault();let e={name:t.target.inputName.value};!1!==this.doesStateContainAllRequiredProductParams()?(e.categoryId=this.state.newProductData.categoryId,e.brandId=this.state.newProductData.brandId,this.setState({loadingModalVisible:!0,loadingModalState:0}),this.callCreateProductApi(e)):alert("Please fill all unfilled items in the form")},this.state=JSON.parse(JSON.stringify(p))}resetStateToDefault(){this.setState(JSON.parse(JSON.stringify(p)))}reloadData(){this.resetStateToDefault(),this.fetchCategoryDataList()}componentDidMount(){document.title="Expenses - Product",this.fetchCategoryDataList()}fetchCategoryDataList(){let t=O.c+"/category/list?offset=0&from=admin-portal";const e=Object(r.a)();fetch(t,Object(l.d)(e.authToken)).then(t=>{if(200===t.status)return t.json();throw 401===t.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout(()=>{Object(r.d)(),Object(o.k)()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+t.status)}).then(t=>{if(Object(o.a)(m,"fetchCategoryDataList","FETCH_1","result",t),1001===t.code){const e=t.data.map(t=>({value:t.id,label:t.name+" [**"+t.unitOfMeasurement+"]"}));this.setState({categoryListData:t.data,categoryListDataSelectTagSpecific:e}),this.fetchBrandDataList()}else this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})},t=>{Object(o.a)(m,"fetchCategoryDataList","FETCH_1","error",t),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})})}fetchBrandDataList(){let t=O.c+"/brand/list?offset=0&from=admin-portal";const e=Object(r.a)();fetch(t,Object(l.d)(e.authToken)).then(t=>{if(200===t.status)return t.json();throw 401===t.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout(()=>{Object(r.d)(),Object(o.k)()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+t.status)}).then(t=>{if(Object(o.a)(m,"fetchBrandDataList","FETCH_1","result",t),1001===t.code){const e=t.data.map(t=>({value:t.id,label:t.name}));this.setState({brandListData:t.data,brandListDataSelectTagSpecific:e}),this.fetchProductDataList()}else this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})},t=>{Object(o.a)(m,"fetchBrandDataList","FETCH_1","error",t),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})})}fetchProductDataList(){let t=O.c+"/product/list?offset=0&from=admin-portal";const e=Object(r.a)();fetch(t,Object(l.d)(e.authToken)).then(t=>{if(200===t.status)return t.json();throw 401===t.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout(()=>{Object(r.d)(),Object(o.k)()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+t.status)}).then(t=>{if(Object(o.a)(m,"fetchProductDataList","FETCH_1","result",t),1001===t.code){const e=t.data.map(t=>(t.category=Object(o.d)(this.state.categoryListData,t.categoryId),t.brand=Object(o.d)(this.state.brandListData,t.brandId),t));this.setState({isLoaded:!0,productListData:e})}else this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})},t=>{Object(o.a)(m,"fetchProductDataList","FETCH_1","error",t),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})})}doesStateContainAllRequiredProductParams(){return null!==this.state.newProductData.categoryId&&null!==this.state.newProductData.brandId}callCreateProductApi(t){let e=O.c+"/product/save?offset=0&from=admin-portal";const a=Object(r.a)();fetch(e,Object(l.f)(JSON.stringify(t),a.authToken)).then(t=>{if(200===t.status)return t.json();throw 401===t.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout(()=>{Object(r.d)(),Object(o.k)()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+t.status)}).then(t=>{Object(o.a)(m,"callCreateProductApi","FETCH_1","result",t),1001===t.code?(this.setState({loadingModalState:1}),setTimeout(()=>{this.reloadData()},200)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})},t=>{Object(o.a)(m,"callCreateProductApi","FETCH_1","error",t),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})})}render(){return Object(o.a)(m,"render","","this.state",this.state),this.state.isLoaded?Object(g.jsxs)("div",{children:[Object(g.jsxs)("h1",{children:["PRODUCT \xa0\xa0\xa0\xa0\xa0",Object(g.jsx)(c.f,{color:"success",className:"px-4",onClick:()=>this.reloadData(),children:"Reload Data"})]}),Object(g.jsx)("br",{}),this.state.isLoaded?Object(g.jsx)(j.a,{initialState:{density:"compact"},columns:S,data:this.state.productListData,enablePagination:!0,editingMode:"row",enableEditing:!0,onEditingRowSave:t=>this.handleSaveRowEdits(t)}):Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(c.w,{children:Object(g.jsx)(c.vb,{className:"justify-content-center",children:Object(g.jsx)(c.u,{md:"8",children:Object(g.jsx)(c.m,{children:Object(g.jsx)(c.j,{className:"p-4",children:Object(g.jsx)(c.k,{children:Object(g.jsxs)(c.J,{onSubmit:this.submitCreateProductForm,children:[Object(g.jsx)("h1",{children:"Save a new Product"}),Object(g.jsx)(u.a,{name:"cilPencil"})," ",Object(g.jsx)("b",{children:"Brand :"}),Object(g.jsx)("br",{}),Object(g.jsx)(f.a,{onChange:t=>{const e=this.state.newProductData;e.brandId=t.value,this.setState({newProductData:e})},options:this.state.brandListDataSelectTagSpecific}),Object(g.jsx)("br",{}),Object(g.jsx)(u.a,{name:"cilPencil"})," ",Object(g.jsx)("b",{children:"Category :"}),Object(g.jsx)("br",{}),Object(g.jsx)(f.a,{onChange:t=>{const e=this.state.newProductData;e.categoryId=t.value,this.setState({newProductData:e})},options:this.state.categoryListDataSelectTagSpecific}),Object(g.jsx)("br",{}),Object(g.jsxs)(c.U,{className:"mb-3",children:[Object(g.jsx)(c.W,{children:Object(g.jsx)(c.X,{children:Object(g.jsx)(u.a,{name:"cilPencil"})})}),Object(g.jsx)(c.R,{placeholder:"Product Name",autoComplete:"on",type:"text",step:"any",id:"inputName",label:"Product Name",required:!0})]}),Object(g.jsxs)(c.vb,{children:[Object(g.jsx)(c.u,{xs:"6",children:Object(g.jsx)(c.f,{color:"success",className:"px-4",type:"submit",children:"SAVE"})}),Object(g.jsx)(c.u,{xs:"6",className:"text-right",children:Object(g.jsx)(c.f,{color:"danger",className:"px-0",onClick:()=>this.reloadData(),children:"\xa0Reset values\xa0"})})]})]})})})})})})}),Object(g.jsx)(b.a,{visible:this.state.loadingModalVisible,loadingModalState:this.state.loadingModalState}),Object(g.jsx)(h.a,{visible:this.state.failureModalVisible})]}):Object(g.jsx)(d.b,{})}}e.default=x}}]);
//# sourceMappingURL=20.09d1c19a.chunk.js.map