(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{554:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r});a(1),a(551);var i=a(12);const s=e=>Object(i.jsxs)("div",{className:"animated fadeIn pt-3 text-center text-danger",children:[Object(i.jsx)("i",{className:"fa fa-warning",style:{color:"red",fontSize:"40px"}}),Object(i.jsx)("h2",{children:"We're Sorry."}),e.detailShow&&Object(i.jsxs)("div",{children:["An Error has occurred, please refresh / reload the page.",Object(i.jsx)("br",{})]})]}),n=()=>Object(i.jsxs)("div",{className:"animated fadeIn text-center",children:[Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"text-primary",children:"L O A D I N G"}),Object(i.jsx)("br",{})]}),r=()=>Object(i.jsxs)("div",{className:"animated fadeIn pt-3 text-center",children:[Object(i.jsx)("h1",{className:"spinner-grow text-success"}),Object(i.jsx)("p",{className:"text-success",children:"S U C C E S S"})]})},561:function(e,t,a){"use strict";a.d(t,"k",function(){return n}),a.d(t,"f",function(){return o}),a.d(t,"j",function(){return r}),a.d(t,"i",function(){return d}),a.d(t,"a",function(){return l}),a.d(t,"g",function(){return h}),a.d(t,"h",function(){return u}),a.d(t,"d",function(){return b}),a.d(t,"c",function(){return j}),a.d(t,"e",function(){return f}),a.d(t,"b",function(){return s});const i=" : ",s=" (IST)",n=()=>{window.location.reload()},r=e=>{window.open(e,"_blank")},o=(e,t)=>{let a=[];return e.forEach(e=>{(c(e.episode,t)||c(e.shortDesc,t))&&a.push(e)}),a},c=(e,t)=>(t+="",e=(e+="").toUpperCase(),t=t.toUpperCase(),e.includes(t));function d(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=t?1e3:1024;if(Math.abs(e)<i)return e+" B";const s=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let n=-1;const r=10**a;do{e/=i,++n}while(Math.round(Math.abs(e)*r)/r>=i&&n<s.length-1);return e.toFixed(a)+" "+s[n]}const l=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if("true"!==localStorage.logsEnabled)return;let r=e+" - "+t+"() called"+i;a&&(r+=a+i),s?(r+=s+i,console.log(r,n)):console.log(r)},h=()=>{window.history.back()},u=()=>{window.open("/","_self")},b=(e,t)=>{const a=e.filter(e=>e.id==t);return 0==a.length?null:a[0]},j=e=>{navigator.clipboard.writeText(e)},f=(e,t,a)=>t/e*a},567:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"e",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"f",function(){return c}),a.d(t,"g",function(){return d}),a.d(t,"a",function(){return l});const i="application/json",s=()=>({method:"GET",headers:{}}),n=e=>({method:"POST",headers:{"Content-Type":i},body:e}),r=e=>({method:"POST",headers:{},body:e}),o=e=>({method:"GET",headers:{Authorization:e}}),c=(e,t)=>({method:"POST",headers:{"Content-Type":i,Authorization:t},body:e}),d=(e,t)=>({method:"PUT",headers:{"Content-Type":i,Authorization:t},body:e}),l=(e,t)=>({method:"DELETE",headers:{"Content-Type":i,Authorization:t},body:e})},568:function(e,t,a){"use strict";var i=a(1),s=a(967),n=a(940),r=a(554),o=a(12);class c extends i.Component{render(){let e=Object(o.jsx)("div",{});return e=0==this.props.loadingModalState?Object(o.jsx)(r.b,{}):1==this.props.loadingModalState?Object(o.jsx)(r.c,{}):Object(o.jsx)(r.a,{}),Object(o.jsx)(s.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-primary",children:Object(o.jsx)(n.a,{children:Object(o.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:e})})})}}t.a=c},570:function(e,t,a){"use strict";var i=a(1),s=a(967),n=a(940),r=a(941),o=a(611),c=a(561),d=a(554),l=a(12);class h extends i.Component{render(){return Object(l.jsxs)(s.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-danger",children:[Object(l.jsx)(n.a,{children:Object(l.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:Object(l.jsx)(d.a,{detailShow:!0})})}),Object(l.jsxs)(r.a,{children:[Object(l.jsx)(o.a,{color:"secondary",onClick:c.g,children:"BACK"}),"\xa0\xa0",Object(l.jsx)(o.a,{color:"secondary",onClick:c.k,children:"RELOAD"}),"\xa0\xa0",Object(l.jsx)(o.a,{color:"secondary",children:"LOGOUT"}),"\xa0\xa0",Object(l.jsx)(o.a,{color:"primary",onClick:c.h,children:"HOME"})]})]})}}t.a=h},571:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"d",function(){return s}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return r});const i="https://backend.satanlabs.com/auth-chowkidar",s="https://backend.satanlabs.com/nexus/weight",n="https://backend.satanlabs.com/nexus/price_tracker",r="http://localhost:7979/nexus/logger"},582:function(e,t,a){"use strict";var i=a(9),s=a(18),n=a(566),r=a.n(n),o=a(1),c=a.n(o),d=c.a.createContext({});d.Consumer,d.Provider;function l(e,t){var a=Object(o.useContext)(d);return e||a[t]||t}var h=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=c.a.forwardRef(function(e,t){var a=e.bsPrefix,n=e.className,o=e.striped,d=e.bordered,u=e.borderless,b=e.hover,j=e.size,f=e.variant,O=e.responsive,x=Object(s.a)(e,h),p=l(a,"table"),g=r()(n,p,f&&p+"-"+f,j&&p+"-"+j,o&&p+"-striped",d&&p+"-bordered",u&&p+"-borderless",b&&p+"-hover"),m=c.a.createElement("table",Object(i.a)({},x,{className:g,ref:t}));if(O){var S=p+"-responsive";return"string"===typeof O&&(S=S+"-"+O),c.a.createElement("div",{className:S},m)}return m});t.a=u},825:function(e,t,a){"use strict";a.r(t);var i=a(1),s=a(576),n=a.n(s),r=a(567),o=a(138),c=a(561),d=a(554),l=a(582),h=a(551),u=a(568),b=a(570),j=a(571),f=a(12);const O="WeightList.js",x={isLoaded:!1,loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!1,weightListData:[]};class p extends i.Component{constructor(e){super(e),this.state=JSON.parse(JSON.stringify(x))}resetStateToDefault(){this.setState(JSON.parse(JSON.stringify(x)))}componentDidMount(){document.title="Satanlabs - weight general page",this.fetchWeightDataList()}fetchWeightDataList(){let e=j.d+"/list?offset=0&from=admin-portal";const t=Object(o.a)();fetch(e,Object(r.d)(t.authToken)).then(e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout(()=>{Object(o.d)(),Object(c.k)()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)}).then(e=>{Object(c.a)(O,"callApi","FETCH_1","result",e),1001===e.code?this.setState({isLoaded:!0,weightListData:e.data}):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})},e=>{Object(c.a)(O,"callApi","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})})}reloadData(){this.resetStateToDefault(),this.fetchWeightDataList()}markWeightEntityDeleted(e){window.confirm("Surely want to DELETE weight.id = "+e+" ?")&&this.callDeletionApi(e)}callDeletionApi(e){this.setState({loadingModalVisible:!0,loadingModalState:0});const t=j.d+"/"+e,a=Object(o.a)();fetch(t,Object(r.a)(null,a.authToken)).then(e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout(()=>{Object(o.d)(),Object(c.k)()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)}).then(e=>{Object(c.a)(O,"callApi","FETCH_1","result",e),1001===e.code?(this.setState({loadingModalState:1}),setTimeout(()=>{this.setState({loadingModalVisible:!1,loadingModalState:0}),this.reloadData()},500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})},e=>{Object(c.a)(O,"callApi","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})})}render(){return Object(c.a)(O,"render","","this.state",this.state),this.state.isLoaded?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Weight data list : "}),Object(f.jsx)(h.f,{color:"success",className:"px-4",onClick:()=>this.reloadData(),children:"reloadData"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsxs)(l.a,{striped:!0,bordered:!0,hover:!0,color:"success",style:{width:"100%"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"Value"}),Object(f.jsx)("th",{children:"extraNotes"}),Object(f.jsx)("th",{children:"createdOn"}),Object(f.jsx)("th",{children:"Actions"})]})}),Object(f.jsx)("tbody",{children:this.state.weightListData.map(e=>Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:e.value}),Object(f.jsx)("td",{children:null==e.extraNotes?"N/A":e.extraNotes}),Object(f.jsxs)("td",{children:[e.createdOn," ~ ",n()(e.createdOn).format("YYYY/MM/DD HH:mm ddd")]}),Object(f.jsxs)("td",{children:[Object(f.jsx)(h.f,{color:"success",className:"px-4",type:"submit",children:"UPDATE"}),"\xa0\xa0\xa0\xa0",Object(f.jsx)(h.f,{color:"danger",className:"px-4",onClick:()=>this.markWeightEntityDeleted(e.id),children:"DELETE"})]})]},"weight_item_id_"+e.id))})]}),Object(f.jsx)(u.a,{visible:this.state.loadingModalVisible,loadingModalState:this.state.loadingModalState}),Object(f.jsx)(b.a,{visible:this.state.failureModalVisible})]}):Object(f.jsx)(d.b,{})}}t.default=p}}]);
//# sourceMappingURL=22.1bff2157.chunk.js.map