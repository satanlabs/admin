(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[21],{522:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o}));a(0),a(513);var i=a(10);const s=e=>Object(i.jsxs)("div",{className:"animated fadeIn pt-3 text-center text-danger",children:[Object(i.jsx)("i",{className:"fa fa-warning",style:{color:"red",fontSize:"40px"}}),Object(i.jsx)("h2",{children:"We're Sorry."}),e.detailShow&&Object(i.jsxs)("div",{children:["An Error has occurred, please refresh / reload the page.",Object(i.jsx)("br",{})]})]}),l=()=>Object(i.jsxs)("div",{className:"animated fadeIn text-center",children:[Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"spinner-grow text-primary",role:"status"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"text-primary",children:"L O A D I N G"}),Object(i.jsx)("br",{})]}),o=()=>Object(i.jsxs)("div",{className:"animated fadeIn pt-3 text-center",children:[Object(i.jsx)("h1",{className:"spinner-grow text-success"}),Object(i.jsx)("p",{className:"text-success",children:"S U C C E S S"})]})},523:function(e,t,a){"use strict";a.d(t,"i",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"g",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return h}));const i=" : ",s=()=>{window.location.reload()},l=e=>{window.open(e,"_blank")},o=(e,t)=>{let a=[];return e.forEach((e=>{(n(e.episode,t)||n(e.shortDesc,t))&&a.push(e)})),a},n=(e,t)=>(t+="",e=(e+="").toUpperCase(),t=t.toUpperCase(),e.includes(t));function r(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const i=t?1e3:1024;if(Math.abs(e)<i)return e+" B";const s=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=-1;const o=10**a;do{e/=i,++l}while(Math.round(Math.abs(e)*o)/o>=i&&l<s.length-1);return e.toFixed(a)+" "+s[l]}const c=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;if("true"!==localStorage.logsEnabled)return;let o=e+" - "+t+"() called"+i;a&&(o+=a+i),s?(o+=s+i,console.log(o,l)):console.log(o)},d=()=>{window.history.back()},u=()=>{window.open("/","_self")},b=(e,t)=>{const a=e.filter((e=>e.id==t));return 0==a.length?null:a[0]},h=e=>{navigator.clipboard.writeText(e)}},531:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return d}));const i="application/json",s=()=>({method:"GET",headers:{}}),l=e=>({method:"POST",headers:{"Content-Type":i},body:e}),o=e=>({method:"POST",headers:{},body:e}),n=e=>({method:"GET",headers:{Authorization:e}}),r=(e,t)=>({method:"POST",headers:{"Content-Type":i,Authorization:t},body:e}),c=(e,t)=>({method:"PUT",headers:{"Content-Type":i,Authorization:t},body:e}),d=(e,t)=>({method:"DELETE",headers:{"Content-Type":i,Authorization:t},body:e})},533:function(e,t,a){"use strict";var i=a(0),s=a(894),l=a(862),o=a(522),n=a(10);class r extends i.Component{render(){let e=Object(n.jsx)("div",{});return e=0==this.props.loadingModalState?Object(n.jsx)(o.b,{}):1==this.props.loadingModalState?Object(n.jsx)(o.c,{}):Object(n.jsx)(o.a,{}),Object(n.jsx)(s.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-primary",children:Object(n.jsx)(l.a,{children:Object(n.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:e})})})}}t.a=r},534:function(e,t,a){"use strict";var i=a(0),s=a(894),l=a(862),o=a(863),n=a(563),r=a(523),c=a(522),d=a(10);class u extends i.Component{render(){return Object(d.jsxs)(s.a,{isOpen:this.props.visible,backdrop:"static",className:"modal-danger",children:[Object(d.jsx)(l.a,{children:Object(d.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:Object(d.jsx)(c.a,{detailShow:!0})})}),Object(d.jsxs)(o.a,{children:[Object(d.jsx)(n.a,{color:"secondary",onClick:r.e,children:"BACK"}),"\xa0\xa0",Object(d.jsx)(n.a,{color:"secondary",onClick:r.i,children:"RELOAD"}),"\xa0\xa0",Object(d.jsx)(n.a,{color:"secondary",children:"LOGOUT"}),"\xa0\xa0",Object(d.jsx)(n.a,{color:"primary",onClick:r.f,children:"HOME"})]})]})}}t.a=u},535:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l}));const i="https://backend.satanlabs.com/auth-chowkidar",s="https://backend.satanlabs.com/nexus/weight",l="https://backend.satanlabs.com/nexus/price_tracker"},543:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c}));const i=[{value:"MILLILITER",label:"MILLILITER \ud83d\udca7"},{value:"GRAM",label:"GRAM \ud83c\udf4e"},{value:"COUNT",label:"COUNT \ud83e\udd5a"}],s=[{value:"ON_DEMAND",label:"ON_DEMAND"},{value:"BILL",label:"BILL"}],l=[{value:"PRODUCT",label:"PRODUCT \ud83c\udf4e"},{value:"SERVICE",label:"SERVICE"}],o=[{value:"YES",label:"YES \u2705",backendValue:!0},{value:"NO",label:"NO \u274c",backendValue:!1}],n=[{value:"UPI",label:"UPI \ud83c\uddee\ud83c\uddf3 \ud83e\uddfe"},{value:"NET_BANKING",label:"NET BANKING \ud83d\udd17"},{value:"CREDIT_CARD",label:"CREDIT CARD \ud83d\udcb3 "},{value:"DEBIT_CARD",label:"DEBIT CARD \ud83d\udcb3 \ud83c\udfe7"},{value:"CASH",label:"CASH \ud83d\udcb0 \ud83d\udcb5"}],r=[{value:"SBI",label:"SBI"},{value:"AXIS",label:"AXIS"}],c=[{value:"ONLINE",label:"ONLINE \ud83d\udd17"},{value:"STORE_BOUGHT",label:"STORE_BOUGHT \ud83c\udfea"}]},791:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a(540),l=a.n(s),o=a(531),n=a(124),r=a(523),c=a(522),d=a(513),u=a(524),b=a(533),h=a(534),j=a(559),S=a(551),O=a(543),f=a(535),p=a(10);const x="Store.js",m={isLoaded:!1,loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!1,storeListData:[],locationListData:[],locationListDataSelectTagSpecific:[],newStoreData:{isCloudStore:null,locationId:null}},g=[{accessorKey:"id",header:"ID",enableEditing:!1},{accessorKey:"name",header:"name",enableEditing:!0},{accessorKey:"type",header:"type",enableEditing:!0,Cell:e=>{let{renderedCellValue:t,row:a}=e;return null===t?"N/A":t}},{accessorKey:"isCloudStore",header:"isCloudStore",enableEditing:!0,Cell:e=>{let{renderedCellValue:t,row:a}=e;return t?"YES":"NO"}},{accessorKey:"location",header:"location",enableEditing:!0,Cell:e=>{let{renderedCellValue:t,row:a}=e;return null===t?"N/A":t.name+" ["+t.description+"]["+t.id+"]"}},{accessorKey:"createdAt",header:"Created At",enableEditing:!1,Cell:e=>{let{renderedCellValue:t,row:a}=e;return l()(t).zone("IST").format("YYYY/MM/DD HH:mm:ss ddd")}},{accessorKey:"updatedAt",header:"Updated At",enableEditing:!1,Cell:e=>{let{renderedCellValue:t,row:a}=e;return l()(t).zone("IST").format("YYYY/MM/DD HH:mm:ss ddd")}}];class C extends i.Component{constructor(e){super(e),this.submitCreateStoreForm=e=>{e.preventDefault();let t={name:e.target.inputName.value,type:e.target.inputType.value};const a=this.doesStateContainAllRequiredStoreParams();null===a?(t.isCloudStore="YES"===this.state.newStoreData.isCloudStore,t.locationId=this.state.newStoreData.locationId,this.setState({loadingModalVisible:!0,loadingModalState:0}),this.callCreateStoreApi(t)):alert(a+" . \u2139\ufe0f Form validation failed.")},this.state=JSON.parse(JSON.stringify(m))}resetStateToDefault(){this.setState(JSON.parse(JSON.stringify(m)))}reloadData(){this.resetStateToDefault(),this.fetchLocationDataList()}componentDidMount(){document.title="Expenses - Store",this.fetchLocationDataList()}fetchLocationDataList(){let e=f.b+"/location/list?offset=0&from=admin-portal";const t=Object(n.a)();fetch(e,Object(o.d)(t.authToken)).then((e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout((()=>{Object(n.d)(),Object(r.i)()}),500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)})).then((e=>{if(Object(r.a)(x,"fetchLocationDataList","FETCH_1","result",e),1001===e.code){const t=e.data.map((e=>({value:e.id,label:e.name+" [**"+e.description+"]"})));this.setState({locationListData:e.data,locationListDataSelectTagSpecific:t}),this.fetchStoreDataList()}else this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}),(e=>{Object(r.a)(x,"fetchLocationDataList","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}))}fetchStoreDataList(){let e=f.b+"/store/list?offset=0&from=admin-portal";const t=Object(n.a)();fetch(e,Object(o.d)(t.authToken)).then((e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout((()=>{Object(n.d)(),Object(r.i)()}),500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)})).then((e=>{if(Object(r.a)(x,"fetchStoreDataList","FETCH_1","result",e),1001===e.code){const t=e.data.map((e=>(e.location=Object(r.c)(this.state.locationListData,e.locationId),e)));this.setState({isLoaded:!0,storeListData:t})}else this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}),(e=>{Object(r.a)(x,"fetchStoreDataList","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}))}doesStateContainAllRequiredStoreParams(){return null===this.state.newStoreData.isCloudStore?"isCloudStore NOT selected":"NO"===this.state.newStoreData.isCloudStore&&null===this.state.newStoreData.locationId?"location is MANTORY for non-cloud stores":null}callCreateStoreApi(e){let t=f.b+"/store/save?offset=0&from=admin-portal";const a=Object(n.a)();fetch(t,Object(o.f)(JSON.stringify(e),a.authToken)).then((e=>{if(200===e.status)return e.json();throw 401===e.status?(this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),setTimeout((()=>{Object(n.d)(),Object(r.i)()}),500)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0}),new Error("HTTP status is "+e.status)})).then((e=>{Object(r.a)(x,"callCreateStoreApi","FETCH_1","result",e),1001===e.code?(this.setState({loadingModalState:1}),setTimeout((()=>{this.reloadData()}),200)):this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}),(e=>{Object(r.a)(x,"callCreateStoreApi","FETCH_1","error",e),this.setState({loadingModalVisible:!1,loadingModalState:0,failureModalVisible:!0})}))}render(){return Object(r.a)(x,"render","","this.state",this.state),this.state.isLoaded?Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:["STORE \xa0\xa0\xa0\xa0\xa0",Object(p.jsx)(d.f,{color:"success",className:"px-4",onClick:()=>this.reloadData(),children:"Reload Data"})]}),Object(p.jsx)("br",{}),this.state.isLoaded?Object(p.jsx)(j.a,{initialState:{density:"compact"},columns:g,data:this.state.storeListData,enablePagination:!0,editingMode:"row",enableEditing:!0,onEditingRowSave:e=>this.handleSaveRowEdits(e)}):Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(d.w,{children:Object(p.jsx)(d.vb,{className:"justify-content-center",children:Object(p.jsx)(d.u,{md:"8",children:Object(p.jsx)(d.m,{children:Object(p.jsx)(d.j,{className:"p-4",children:Object(p.jsx)(d.k,{children:Object(p.jsxs)(d.J,{onSubmit:this.submitCreateStoreForm,children:[Object(p.jsx)("h1",{children:"Save a new Store"}),Object(p.jsxs)(d.U,{className:"mb-3",children:[Object(p.jsx)(d.W,{children:Object(p.jsx)(d.X,{children:Object(p.jsx)(u.a,{name:"cilPencil"})})}),Object(p.jsx)(d.R,{placeholder:"Store Name",autoComplete:"on",type:"text",step:"any",id:"inputName",label:"Store Name",required:!0})]}),Object(p.jsxs)(d.U,{className:"mb-3",children:[Object(p.jsx)(d.W,{children:Object(p.jsx)(d.X,{children:Object(p.jsx)(u.a,{name:"cilPencil"})})}),Object(p.jsx)(d.R,{placeholder:"Store Type",autoComplete:"on",type:"text",step:"any",id:"inputType",label:"Store Type",required:!0})]}),Object(p.jsx)(u.a,{name:"cilPencil"})," ",Object(p.jsx)("b",{children:"Is Cloud Store ? :"}),Object(p.jsx)("br",{}),Object(p.jsx)(S.a,{onChange:e=>{const t=this.state.newStoreData;t.isCloudStore=null===e?null:e.value,this.setState({newStoreData:t})},options:O.g,isClearable:!0}),Object(p.jsx)("br",{}),Object(p.jsx)(u.a,{name:"cilPencil"}),"\xa0\xa0 ",Object(p.jsx)("b",{children:"Location :"})," ","YES"===this.state.newStoreData.isCloudStore?"\u26d4\ufe0f \u2139\ufe0f Not reqd. for online store":"",Object(p.jsx)("br",{}),Object(p.jsx)(S.a,{onChange:e=>{const t=this.state.newStoreData;t.locationId=null===e?null:e.value,this.setState({newStoreData:t})},options:this.state.locationListDataSelectTagSpecific,isClearable:!0}),Object(p.jsx)("br",{}),Object(p.jsxs)(d.vb,{children:[Object(p.jsx)(d.u,{xs:"6",children:Object(p.jsx)(d.f,{color:"success",className:"px-4",type:"submit",children:"SAVE"})}),Object(p.jsx)(d.u,{xs:"6",className:"text-right",children:Object(p.jsx)(d.f,{color:"danger",className:"px-0",onClick:()=>this.reloadData(),children:"\xa0Reset values\xa0"})})]})]})})})})})})}),Object(p.jsx)(b.a,{visible:this.state.loadingModalVisible,loadingModalState:this.state.loadingModalState}),Object(p.jsx)(h.a,{visible:this.state.failureModalVisible})]}):Object(p.jsx)(c.b,{})}}t.default=C}}]);
//# sourceMappingURL=21.fac83480.chunk.js.map