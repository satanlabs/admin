{"version":3,"sources":["Loading.js","../node_modules/reactstrap/es/Card.js","views/WeatherGraph/WeatherGraph.js","../node_modules/reactstrap/es/CardBody.js"],"names":["Loading","className","color","size","propTypes","tag","tagPropType","inverse","PropTypes","bool","string","body","outline","cssModule","object","innerRef","oneOfType","func","Card","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps","types_of_data","weatherDescription","graphTypes","graphModes","COLORS","WeatherGraph","getRawWeatherDataFromApi","offset","setState","isLoaded","fetch","then","res","json","result","rawData","data","plotDataForWeather","showLatestData","error","console","log","latestWeatherConditions","state","length","latestRawData","JSON","parse","cleanDataForPlotting","type_of_data","plotDatas","randomColor","Math","floor","random","x","y","forEach","push","Date","parseInt","timestamp","type","graphType","mode","graphMode","marker","name","setTimeout","dataForPlot_humidity","dataForPlot_pressure","dataForPlot_temperature","degToCompass","degree","this","window","location","reload","FILE_NAME","width","innerWidth","height","innerHeight","style","textAlign","onChange","e","target","value","Number","temperature","toFixed","humidity","pressure","clouds","all","sys","sunrise","toLocaleTimeString","sunset","visibility","wind","speed","deg","weather","main","id","src","icon","dateAndTime","onClick","showlegend","layout","title","Component","CardBody"],"mappings":"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","file":"static/js/38.c29628b2.chunk.js","sourcesContent":["import React from 'react';\nimport { CSpinner } from '@coreui/react';\n\nconst Loading = () =>\n    <div className=\"animated fadeIn pt-3 text-center\">\n        <CSpinner color=\"success\" size=\"sm\"/>        \n    </div>\n    ;\nexport default Loading;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import React, { Component } from 'react';\nimport Plot from 'react-plotly.js';\nimport { Button, CardBody, Card } from 'reactstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Loading from \"../../Loading\";\n\nconst FILE_NAME = \"WeatherGraph.js\";\n\nconst API_URL = \"http://192.168.1.109/nexus/weather-data?data=123&offset=\";\n\nconst types_of_data = [\n  \"humidity\",\n  \"pressure\",\n  \"temperature\"\n];\n\nconst weatherDescription = {\n  \"200\":\"thunderstorm with light rain\",\n  \"201\":\"thunderstorm with rain\",\n  \"202\":\"thunderstorm with heavy rain\",\n  \"210\":\"light thunderstorm\",\n  \"211\":\"thunderstorm\",\n  \"212\":\"heavy thunderstorm\",\n  \"221\":\"ragged thunderstorm\",\n  \"230\":\"thunderstorm with light drizzle\",\n  \"231\":\"thunderstorm with drizzle\",\n  \"232\":\"thunderstorm with heavy drizzle\",\n  \"300\":\"light intensity drizzle\",\n  \"301\":\"drizzle\",\n  \"302\":\"heavy intensity drizzle\",\n  \"310\":\"light intensity drizzle rain\",\n  \"311\":\"drizzle rain\",\n  \"312\":\"heavy intensity drizzle rain\",\n  \"313\":\"shower rain and drizzle\",\n  \"314\":\"heavy shower rain and drizzle\",\n  \"321\":\"shower drizzle\",\n  \"500\":\"light rain\",\n  \"501\":\"moderate rain\",\n  \"502\":\"heavy intensity rain\",\n  \"503\":\"very heavy rain\",\n  \"504\":\"extreme rain\",\n  \"511\":\"freezing rain\",\n  \"520\":\"light intensity shower rain\",\n  \"521\":\"shower rain\",\n  \"522\":\"heavy intensity shower rain\",\n  \"531\":\"ragged shower rain\",\n  \"600\":\"light snow\",\n  \"601\":\"snow\",\n  \"602\":\"heavy snow\",\n  \"611\":\"sleet\",\n  \"612\":\"shower sleet\",\n  \"615\":\"light rain and snow\",\n  \"616\":\"rain and snow\",\n  \"620\":\"light shower snow\",\n  \"621\":\"shower snow\",\n  \"622\":\"heavy shower snow\",\n  \"701\":\"mist\",\n  \"711\":\"smoke\",\n  \"721\":\"haze\",\n  \"731\":\"sand,dust whirls\",\n  \"741\":\"fog\",\n  \"751\":\"sand\",\n  \"761\":\"dust\",\n  \"762\":\"volcanic ash\",\n  \"771\":\"squalls\",\n  \"781\":\"tornado\",\n  \"800\":\"clear sky\",\n  \"801\":\"few clouds\",\n  \"802\":\"scattered clouds\",\n  \"803\":\"broken clouds\",\n  \"804\":\"overcast clouds\",\n  \"900\":\"tornado\",\n  \"901\":\"tropical storm\",\n  \"902\":\"hurricane\",\n  \"903\":\"cold\",\n  \"904\":\"hot\",\n  \"905\":\"windy\",\n  \"906\":\"hail\",\n  \"950\":\"setting\",\n  \"951\":\"calm\",\n  \"952\":\"light breeze\",\n  \"953\":\"gentle breeze\",\n  \"954\":\"moderate breeze\",\n  \"955\":\"fresh breeze\",\n  \"956\":\"strong breeze\",\n  \"957\":\"high wind, near gale\",\n  \"958\":\"gale\",\n  \"959\":\"severe gale\",\n  \"960\":\"storm\",\n  \"961\":\"violent storm\",\n  \"962\":\"hurricane\"\n};\n\nconst cloudsData = {\n    \"Sky is clear\": {\n      \"id\" : 800,\n      \"min\" : 0,\n      \"max\": 10,\n      \"avr\": 0\n    },\n    \"Few clouds\": {\n      \"id\": 801,\n      \"min\": 10,\n      \"max\": 25,\n      \"avr\": 20\n    },\n    \"Scattered clouds\": {\n      \"id\": 802,\n      \"min\": 25,\n      \"max\": 50,\n      \"avr\": 40\n    },\n    \"Broken clouds\": {\n      \"id\": 803,\n      \"min\": 50,\n      \"max\": 85,\n      \"avr\": 75\n    },\n    \"Overcast clouds\": {\n      \"id\": 804,\n      \"min\": 85,\n      \"max\": 1000,\n      \"avr\": 90\n    }\n};\n\nconst windDirectionData = {\n    \"North\":{\n      \"deg_interval\": [-11.25, 11.25]\n    },\n    \"North-northeast\":{\n      \"deg_interval\": [11.25, 33.75]\n    },\n    \"NorthEast\":{\n      \"deg_interval\": [33.75, 56.25]\n    },\n    \"East-northeast\":{\n      \"deg_interval\": [56.25, 78.75]\n    },\n    \"East\":{\n      \"deg_interval\": [78.75, 101.25]\n    },\n    \"East-southeast\":{\n      \"deg_interval\": [101.25, 123.75]\n    },\n    \"SouthEast\":{\n      \"deg_interval\": [123.75, 146.25]\n    },\n    \"South-southeast\":{\n      \"deg_interval\": [146.25, 168.75]\n    },\n    \"South\":{\n      \"deg_interval\": [168.75, 191.25]\n    },\n    \"South-southwest\":{\n      \"deg_interval\": [191.25, 213.75]\n    },\n    \"Southwest\":{\n      \"deg_interval\": [213.75, 236.25]\n    },\n    \"West-southwest\":{\n      \"deg_interval\": [236.25, 258.75]\n    },\n    \"West\":{\n      \"deg_interval\": [258.75, 281.25]\n    },\n    \"West-northwest\":{\n      \"deg_interval\": [281.25, 303.75]\n    },\n    \"Northwest\":{\n      \"deg_interval\": [303.75, 326.25]\n    },\n    \"North-northwest\":{\n      \"deg_interval\": [326.25, 348.75]\n    }\n};\n\nconst windSpeedData = {\n    \"Settings\": {\n      \"speed_interval\": [0.0, 0.3],\n      \"desc\": \"0-1   Smoke rises straight up\"\n    },\n    \"Calm\": {\n      \"speed_interval\": [0.3, 1.6],\n      \"desc\": \"1-3 One can see downwind of the smoke drift\"\n    },\n    \"Light breeze\":{\n      \"speed_interval\": [1.6, 3.3],\n      \"desc\": \"4-6 One can feel the wind. The leaves on the trees move, the wind can lift small streamers.\"\n    },\n    \"Gentle Breeze\":{\n      \"speed_interval\": [3.4, 5.5],\n      \"desc\": \"7-10 Leaves and twigs move. Wind extends light flag and pennants\"\n    },\n    \"Moderate breeze\":{\n      \"speed_interval\": [5.5, 8.0],\n      \"desc\": \"11-16   The wind raises dust and loose papers, touches on the twigs and small branches, stretches larger flags and pennants\"\n    },\n    \"Fresh Breeze\":{\n      \"speed_interval\": [8.0, 10.8],\n      \"desc\": \"17-21   Small trees in leaf begin to sway. The water begins little waves to peak\"\n    },\n    \"Strong breeze\":{\n      \"speed_interval\": [10.8, 13.9],\n      \"desc\": \"22-27   Large branches and smaller tribes moves. The whiz of telephone lines. It is difficult to use the umbrella. A resistance when running.\"\n    },\n    \"High wind, near gale\":{\n      \"speed_interval\": [13.9, 17.2],\n      \"desc\": \"28-33   Whole trees in motion. It is hard to go against the wind.\"\n    },\n    \"Gale\":{\n      \"speed_interval\": [17.2, 20.7],\n      \"desc\": \"34-40   The wind break twigs of trees. It is hard to go against the wind.\"\n    },\n    \"Severe Gale\":{\n      \"speed_interval\": [20.8, 24.5],\n      \"desc\": \"41-47   All large trees swaying and throws. Tiles can blow down.\"\n    },\n    \"Storm\":{\n      \"speed_interval\": [24.5, 28.5],\n      \"desc\": \"48-55   Rare inland. Trees uprooted. Serious damage to houses.\"\n    },\n    \"Violent Storm\":{\n      \"speed_interval\": [28.5, 32.7],\n      \"desc\": \"56-63   Occurs rarely and is followed by destruction.\"\n    },\n    \"Hurricane\":{\n      \"speed_interval\": [32.7, 64],\n      \"desc\": \"Occurs very rarely. Unusually severe damage.\"\n    }\n  };\n\nconst graphTypes  = [ \"scatter\" , \"bar\" ];\nconst graphModes  = [ \"lines\" , \"lines+markers\" , \"markers\" ];\n\nconst COLORS = [\n  \"red\",\"green\",\"blue\",\"#b59a14\",\"#b514a5\",\"black\",\"orange\"\n];\n\nclass WeatherGraph extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        isLoaded: false,\n        graphType: graphTypes[0],\n        graphMode: graphModes[1],\n        latestWeatherConditions: null,\n        latestRawData: null,\n        offset: 24 * 5 * 2\n    };\n  }\n\n  componentDidMount() {\n    this.getRawWeatherDataFromApi(this.state.offset);\n\n    setTimeout(()=>{\n      console.log(\"reloading page after every 2.5 min :\" , new Date());\n      window.location.reload();\n    } , 1000 * 60 * 2.5);\n  }\n\n  getRawWeatherDataFromApi = (offset) => {\n    this.setState({isLoaded: false , });\n\n    fetch(API_URL + offset)\n    .then(res => res.json())\n    .then(\n        (result) => {\n            this.setState({\n              rawData: result.data\n            });\n            this.plotDataForWeather();\n            this.showLatestData();\n        },\n        (error) => {\n          console.log(\"ERROR :\" ,error);\n        }\n    );\n\n  }\n\n  showLatestData = () => {\n    /* \n    this will help in showing lastest data in the top card \n    */\n    const latestWeatherConditions = this.state.rawData[this.state.rawData.length-1];\n    const latestRawData = JSON.parse(latestWeatherConditions.rawData);\n\n    this.setState({\n      latestWeatherConditions,\n      latestRawData\n    });\n  }\n\n  cleanDataForPlotting = (type_of_data) => {\n    let plotDatas = [];\n\n    const randomColor = Math.floor(Math.random() * COLORS.length);\n\n    let x = [] , y = [];\n    this.state.rawData.forEach(data => {\n        x.push(new Date(parseInt(data.timestamp)));\n        y.push(data[type_of_data]);\n    });\n\n    plotDatas.push(\n    {\n        x: [ ...x ],\n        y: [ ...y ],\n        type:this.state.graphType,\n        mode: this.state.graphMode,\n        marker: {color: COLORS[randomColor]},\n        name: `${type_of_data}`\n    }\n    );\n\n    \n    return plotDatas;\n  }\n\n  plotDataForWeather = () => {\n    this.setState({isLoaded:false});\n    setTimeout(()=>{\n      this.setState({\n        dataForPlot_humidity: this.cleanDataForPlotting(types_of_data[0]),\n        dataForPlot_pressure: this.cleanDataForPlotting(types_of_data[1]),\n        dataForPlot_temperature: this.cleanDataForPlotting(types_of_data[2]),\n        isLoaded: true\n      });\n    },250);\n    \n  }\n\n  degToCompass = (degree) => {\n    const val=parseInt((degree/22.5)+.5);\n    const arr=[\"N\",\"NNE\",\"NE\",\"ENE\",\"E\",\"ESE\", \"SE\", \"SSE\",\"S\",\"SSW\",\"SW\",\"WSW\",\"W\",\"WNW\",\"NW\",\"NNW\"];\n    return arr[(val % 16)];\n  }\n\n  render() {\n    console.log(FILE_NAME + \" render() : this.state :\" ,this.state);\n    const width = window.innerWidth * 0.94;\n    const height = window.innerHeight * 0.94;\n\n    return (\n      <div>\n        <div style={{textAlign:\"right\"}}>\n          <select onChange={e=>{\n            this.getRawWeatherDataFromApi(e.target.value);\n          }}>\n            <option value=\"\">Select no of items</option>\n            <option value={0} key={\"all__a\"}>All items</option>\n            <option value={10} key={\"10__a\"}>10</option>\n            <option value={100} key={\"100__a\"}>100</option>\n            <option value={1000} key={\"1000__a\"}>1000</option>\n            <option value={10000} key={\"10000__a\"}>10000</option>\n            <option value={100000} key={\"100000__a\"}>10000</option>\n            <option value={1000000} key={\"1000000__a\"}>1000000</option>\n          </select>\n        </div>\n\n        {(this.state.isLoaded) ? \n        <Card>\n          <CardBody>\n            <h2>Temperature : {Number(this.state.latestWeatherConditions.temperature).toFixed(2)} ยบ C</h2>\n            <h2>Humidity : {this.state.latestWeatherConditions.humidity} % </h2>\n            <h2>Pressure : {this.state.latestWeatherConditions.pressure} hPa </h2>\n            <h2>Cloudiness : {this.state.latestRawData.clouds.all} % </h2>\n            <h2>Sunrise : {new Date(this.state.latestRawData.sys.sunrise * 1000).toLocaleTimeString()} AM</h2>\n            <h2>Sunset : {new Date(this.state.latestRawData.sys.sunset * 1000).toLocaleTimeString()} PM</h2>\n            \n            <h2>Visibility : {this.state.latestRawData.visibility} meters </h2>\n            <h2>Wind -speed : {(this.state.latestRawData.wind.speed * 3.6).toFixed(2)} kmph </h2>\n            <h2>Wind -direction : {this.degToCompass(this.state.latestRawData.wind.deg)}</h2>\n            <h2>{this.state.latestRawData.weather[0].main} {weatherDescription[this.state.latestRawData.weather[0].id]}<img height=\"60px\" src={`https://openweathermap.org/img/wn/${this.state.latestRawData.weather[0].icon}@4x.png`} /></h2>\n            \n            <h5>last updated : {this.state.latestWeatherConditions.dateAndTime}</h5>\n          </CardBody>\n        </Card>\n        : <Loading /> \n        }\n        {\n          this.state.isLoaded ?\n          (<div>\n\n            <span>\n              <b>Change Type :</b>&nbsp;&nbsp;\n              <Button color=\"primary\" size=\"lg\" onClick={()=>{this.setState({graphType: \"scatter\"}); this.plotDataForWeather(); }}>scatter TYPE</Button>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              <Button color=\"warning\" size=\"lg\" onClick={()=>{this.setState({graphType: \"bar\"}); this.plotDataForWeather(); }}>bar TYPE</Button>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              CURRENT Type : [ { this.state.graphType } ]\n              <br /><br />\n            </span>\n\n            <span>\n              <b>Change Mode :</b>&nbsp;&nbsp;\n              <Button color=\"primary\" size=\"lg\" onClick={()=>{this.setState({graphMode: \"lines\"}); this.plotDataForWeather(); }}>lines MODE</Button>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              <Button color=\"danger\" size=\"lg\" onClick={()=>{this.setState({graphMode: \"lines+markers\"}); this.plotDataForWeather(); }}>lines+markers MODE</Button>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              <Button color=\"warning\" size=\"lg\" onClick={()=>{this.setState({graphMode: \"markers\"}); this.plotDataForWeather(); }}>markers MODE</Button>\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              CURRENT Mode : [ { this.state.graphMode } ]\n              <br /><br />\n            </span>\n\n            <Plot\n            showlegend={false}\n            data={ this.state.dataForPlot_temperature }\n            layout={ {width, height, title: 'Temperature - Celsius' } }\n            />\n\n            <br /><hr />\n\n            <Plot\n            showlegend={false}\n            data={ this.state.dataForPlot_humidity }\n            layout={ {width, height, title: 'Humidity - percent' } }\n            />\n\n            <br /><hr />\n\n            <Plot\n            showlegend={false}\n            data={ this.state.dataForPlot_pressure }\n            layout={ {width, height, title: 'Pressure - Bar' } }\n            />\n          </div> ) : <Loading />\n        }\n\n      </div>\n    );\n  }\n}\n\nexport default WeatherGraph;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"innerRef\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;"],"sourceRoot":""}