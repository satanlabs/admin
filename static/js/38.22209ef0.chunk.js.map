{"version":3,"sources":["Loading.js","../node_modules/reactstrap/es/Card.js","views/WeatherGraph/WeatherGraph.js","../node_modules/reactstrap/es/CardBody.js"],"names":["Loading","_jsx","className","children","CSpinner","color","size","_excluded","propTypes","tag","tagPropType","inverse","PropTypes","bool","string","body","outline","cssModule","object","innerRef","oneOfType","func","Card","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps","types_of_data","weatherDescription","graphTypes","graphModes","COLORS","WeatherGraph","Component","constructor","super","getRawWeatherDataFromApi","offset","this","setState","isLoaded","fetch","then","res","json","result","rawData","data","plotDataForWeather","showLatestData","error","console","log","latestWeatherConditions","state","length","latestRawData","JSON","parse","cleanDataForPlotting","type_of_data","plotDatas","randomColor","Math","floor","random","x","y","forEach","push","Date","parseInt","timestamp","type","graphType","mode","graphMode","marker","name","concat","setTimeout","dataForPlot_humidity","dataForPlot_pressure","dataForPlot_temperature","degToCompass","degree","componentDidMount","window","location","reload","render","FILE_NAME","width","innerWidth","height","innerHeight","_jsxs","style","textAlign","onChange","e","target","value","CardBody","Number","temperature","toFixed","humidity","pressure","clouds","all","sys","sunrise","toLocaleTimeString","sunset","visibility","wind","speed","deg","weather","main","id","src","icon","dateAndTime","Button","onClick","Plot","showlegend","layout","title"],"mappings":"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","file":"static/js/38.22209ef0.chunk.js","sourcesContent":["import React from 'react';\r\nimport { CSpinner } from '@coreui/react';\r\n\r\nconst Loading = () =>\r\n    <div className=\"animated fadeIn pt-3 text-center\">\r\n        <CSpinner color=\"success\" size=\"sm\"/>\r\n    </div>\r\n    ;\r\nexport default Loading;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import React, { Component } from 'react';\r\nimport Plot from 'react-plotly.js';\r\nimport { Button, CardBody, Card } from 'reactstrap';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Loading from \"../../Loading\";\r\n\r\nconst FILE_NAME = \"WeatherGraph.js\";\r\n\r\nconst API_URL = \"http://192.168.1.109/nexus/weather-data?data=123&offset=\";\r\n\r\nconst types_of_data = [\r\n  \"humidity\",\r\n  \"pressure\",\r\n  \"temperature\"\r\n];\r\n\r\nconst weatherDescription = {\r\n  \"200\":\"thunderstorm with light rain\",\r\n  \"201\":\"thunderstorm with rain\",\r\n  \"202\":\"thunderstorm with heavy rain\",\r\n  \"210\":\"light thunderstorm\",\r\n  \"211\":\"thunderstorm\",\r\n  \"212\":\"heavy thunderstorm\",\r\n  \"221\":\"ragged thunderstorm\",\r\n  \"230\":\"thunderstorm with light drizzle\",\r\n  \"231\":\"thunderstorm with drizzle\",\r\n  \"232\":\"thunderstorm with heavy drizzle\",\r\n  \"300\":\"light intensity drizzle\",\r\n  \"301\":\"drizzle\",\r\n  \"302\":\"heavy intensity drizzle\",\r\n  \"310\":\"light intensity drizzle rain\",\r\n  \"311\":\"drizzle rain\",\r\n  \"312\":\"heavy intensity drizzle rain\",\r\n  \"313\":\"shower rain and drizzle\",\r\n  \"314\":\"heavy shower rain and drizzle\",\r\n  \"321\":\"shower drizzle\",\r\n  \"500\":\"light rain\",\r\n  \"501\":\"moderate rain\",\r\n  \"502\":\"heavy intensity rain\",\r\n  \"503\":\"very heavy rain\",\r\n  \"504\":\"extreme rain\",\r\n  \"511\":\"freezing rain\",\r\n  \"520\":\"light intensity shower rain\",\r\n  \"521\":\"shower rain\",\r\n  \"522\":\"heavy intensity shower rain\",\r\n  \"531\":\"ragged shower rain\",\r\n  \"600\":\"light snow\",\r\n  \"601\":\"snow\",\r\n  \"602\":\"heavy snow\",\r\n  \"611\":\"sleet\",\r\n  \"612\":\"shower sleet\",\r\n  \"615\":\"light rain and snow\",\r\n  \"616\":\"rain and snow\",\r\n  \"620\":\"light shower snow\",\r\n  \"621\":\"shower snow\",\r\n  \"622\":\"heavy shower snow\",\r\n  \"701\":\"mist\",\r\n  \"711\":\"smoke\",\r\n  \"721\":\"haze\",\r\n  \"731\":\"sand,dust whirls\",\r\n  \"741\":\"fog\",\r\n  \"751\":\"sand\",\r\n  \"761\":\"dust\",\r\n  \"762\":\"volcanic ash\",\r\n  \"771\":\"squalls\",\r\n  \"781\":\"tornado\",\r\n  \"800\":\"clear sky\",\r\n  \"801\":\"few clouds\",\r\n  \"802\":\"scattered clouds\",\r\n  \"803\":\"broken clouds\",\r\n  \"804\":\"overcast clouds\",\r\n  \"900\":\"tornado\",\r\n  \"901\":\"tropical storm\",\r\n  \"902\":\"hurricane\",\r\n  \"903\":\"cold\",\r\n  \"904\":\"hot\",\r\n  \"905\":\"windy\",\r\n  \"906\":\"hail\",\r\n  \"950\":\"setting\",\r\n  \"951\":\"calm\",\r\n  \"952\":\"light breeze\",\r\n  \"953\":\"gentle breeze\",\r\n  \"954\":\"moderate breeze\",\r\n  \"955\":\"fresh breeze\",\r\n  \"956\":\"strong breeze\",\r\n  \"957\":\"high wind, near gale\",\r\n  \"958\":\"gale\",\r\n  \"959\":\"severe gale\",\r\n  \"960\":\"storm\",\r\n  \"961\":\"violent storm\",\r\n  \"962\":\"hurricane\"\r\n};\r\n\r\nconst cloudsData = {\r\n    \"Sky is clear\": {\r\n      \"id\" : 800,\r\n      \"min\" : 0,\r\n      \"max\": 10,\r\n      \"avr\": 0\r\n    },\r\n    \"Few clouds\": {\r\n      \"id\": 801,\r\n      \"min\": 10,\r\n      \"max\": 25,\r\n      \"avr\": 20\r\n    },\r\n    \"Scattered clouds\": {\r\n      \"id\": 802,\r\n      \"min\": 25,\r\n      \"max\": 50,\r\n      \"avr\": 40\r\n    },\r\n    \"Broken clouds\": {\r\n      \"id\": 803,\r\n      \"min\": 50,\r\n      \"max\": 85,\r\n      \"avr\": 75\r\n    },\r\n    \"Overcast clouds\": {\r\n      \"id\": 804,\r\n      \"min\": 85,\r\n      \"max\": 1000,\r\n      \"avr\": 90\r\n    }\r\n};\r\n\r\nconst windDirectionData = {\r\n    \"North\":{\r\n      \"deg_interval\": [-11.25, 11.25]\r\n    },\r\n    \"North-northeast\":{\r\n      \"deg_interval\": [11.25, 33.75]\r\n    },\r\n    \"NorthEast\":{\r\n      \"deg_interval\": [33.75, 56.25]\r\n    },\r\n    \"East-northeast\":{\r\n      \"deg_interval\": [56.25, 78.75]\r\n    },\r\n    \"East\":{\r\n      \"deg_interval\": [78.75, 101.25]\r\n    },\r\n    \"East-southeast\":{\r\n      \"deg_interval\": [101.25, 123.75]\r\n    },\r\n    \"SouthEast\":{\r\n      \"deg_interval\": [123.75, 146.25]\r\n    },\r\n    \"South-southeast\":{\r\n      \"deg_interval\": [146.25, 168.75]\r\n    },\r\n    \"South\":{\r\n      \"deg_interval\": [168.75, 191.25]\r\n    },\r\n    \"South-southwest\":{\r\n      \"deg_interval\": [191.25, 213.75]\r\n    },\r\n    \"Southwest\":{\r\n      \"deg_interval\": [213.75, 236.25]\r\n    },\r\n    \"West-southwest\":{\r\n      \"deg_interval\": [236.25, 258.75]\r\n    },\r\n    \"West\":{\r\n      \"deg_interval\": [258.75, 281.25]\r\n    },\r\n    \"West-northwest\":{\r\n      \"deg_interval\": [281.25, 303.75]\r\n    },\r\n    \"Northwest\":{\r\n      \"deg_interval\": [303.75, 326.25]\r\n    },\r\n    \"North-northwest\":{\r\n      \"deg_interval\": [326.25, 348.75]\r\n    }\r\n};\r\n\r\nconst windSpeedData = {\r\n    \"Settings\": {\r\n      \"speed_interval\": [0.0, 0.3],\r\n      \"desc\": \"0-1   Smoke rises straight up\"\r\n    },\r\n    \"Calm\": {\r\n      \"speed_interval\": [0.3, 1.6],\r\n      \"desc\": \"1-3 One can see downwind of the smoke drift\"\r\n    },\r\n    \"Light breeze\":{\r\n      \"speed_interval\": [1.6, 3.3],\r\n      \"desc\": \"4-6 One can feel the wind. The leaves on the trees move, the wind can lift small streamers.\"\r\n    },\r\n    \"Gentle Breeze\":{\r\n      \"speed_interval\": [3.4, 5.5],\r\n      \"desc\": \"7-10 Leaves and twigs move. Wind extends light flag and pennants\"\r\n    },\r\n    \"Moderate breeze\":{\r\n      \"speed_interval\": [5.5, 8.0],\r\n      \"desc\": \"11-16   The wind raises dust and loose papers, touches on the twigs and small branches, stretches larger flags and pennants\"\r\n    },\r\n    \"Fresh Breeze\":{\r\n      \"speed_interval\": [8.0, 10.8],\r\n      \"desc\": \"17-21   Small trees in leaf begin to sway. The water begins little waves to peak\"\r\n    },\r\n    \"Strong breeze\":{\r\n      \"speed_interval\": [10.8, 13.9],\r\n      \"desc\": \"22-27   Large branches and smaller tribes moves. The whiz of telephone lines. It is difficult to use the umbrella. A resistance when running.\"\r\n    },\r\n    \"High wind, near gale\":{\r\n      \"speed_interval\": [13.9, 17.2],\r\n      \"desc\": \"28-33   Whole trees in motion. It is hard to go against the wind.\"\r\n    },\r\n    \"Gale\":{\r\n      \"speed_interval\": [17.2, 20.7],\r\n      \"desc\": \"34-40   The wind break twigs of trees. It is hard to go against the wind.\"\r\n    },\r\n    \"Severe Gale\":{\r\n      \"speed_interval\": [20.8, 24.5],\r\n      \"desc\": \"41-47   All large trees swaying and throws. Tiles can blow down.\"\r\n    },\r\n    \"Storm\":{\r\n      \"speed_interval\": [24.5, 28.5],\r\n      \"desc\": \"48-55   Rare inland. Trees uprooted. Serious damage to houses.\"\r\n    },\r\n    \"Violent Storm\":{\r\n      \"speed_interval\": [28.5, 32.7],\r\n      \"desc\": \"56-63   Occurs rarely and is followed by destruction.\"\r\n    },\r\n    \"Hurricane\":{\r\n      \"speed_interval\": [32.7, 64],\r\n      \"desc\": \"Occurs very rarely. Unusually severe damage.\"\r\n    }\r\n  };\r\n\r\nconst graphTypes  = [ \"scatter\" , \"bar\" ];\r\nconst graphModes  = [ \"lines\" , \"lines+markers\" , \"markers\" ];\r\n\r\nconst COLORS = [\r\n  \"red\",\"green\",\"blue\",\"#b59a14\",\"#b514a5\",\"black\",\"orange\"\r\n];\r\n\r\nclass WeatherGraph extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        isLoaded: false,\r\n        graphType: graphTypes[0],\r\n        graphMode: graphModes[1],\r\n        latestWeatherConditions: null,\r\n        latestRawData: null,\r\n        offset: 24 * 5 * 2\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRawWeatherDataFromApi(this.state.offset);\r\n\r\n    setTimeout(()=>{\r\n      console.log(\"reloading page after every 2.5 min :\" , new Date());\r\n      window.location.reload();\r\n    } , 1000 * 60 * 2.5);\r\n  }\r\n\r\n  getRawWeatherDataFromApi = (offset) => {\r\n    this.setState({isLoaded: false , });\r\n\r\n    fetch(API_URL + offset)\r\n    .then(res => res.json())\r\n    .then(\r\n        (result) => {\r\n            this.setState({\r\n              rawData: result.data\r\n            });\r\n            this.plotDataForWeather();\r\n            this.showLatestData();\r\n        },\r\n        (error) => {\r\n          console.log(\"ERROR :\" ,error);\r\n        }\r\n    );\r\n\r\n  }\r\n\r\n  showLatestData = () => {\r\n    /* \r\n    this will help in showing lastest data in the top card \r\n    */\r\n    const latestWeatherConditions = this.state.rawData[this.state.rawData.length-1];\r\n    const latestRawData = JSON.parse(latestWeatherConditions.rawData);\r\n\r\n    this.setState({\r\n      latestWeatherConditions,\r\n      latestRawData\r\n    });\r\n  }\r\n\r\n  cleanDataForPlotting = (type_of_data) => {\r\n    let plotDatas = [];\r\n\r\n    const randomColor = Math.floor(Math.random() * COLORS.length);\r\n\r\n    let x = [] , y = [];\r\n    this.state.rawData.forEach(data => {\r\n        x.push(new Date(parseInt(data.timestamp)));\r\n        y.push(data[type_of_data]);\r\n    });\r\n\r\n    plotDatas.push(\r\n    {\r\n        x: [ ...x ],\r\n        y: [ ...y ],\r\n        type:this.state.graphType,\r\n        mode: this.state.graphMode,\r\n        marker: {color: COLORS[randomColor]},\r\n        name: `${type_of_data}`\r\n    }\r\n    );\r\n\r\n    \r\n    return plotDatas;\r\n  }\r\n\r\n  plotDataForWeather = () => {\r\n    this.setState({isLoaded:false});\r\n    setTimeout(()=>{\r\n      this.setState({\r\n        dataForPlot_humidity: this.cleanDataForPlotting(types_of_data[0]),\r\n        dataForPlot_pressure: this.cleanDataForPlotting(types_of_data[1]),\r\n        dataForPlot_temperature: this.cleanDataForPlotting(types_of_data[2]),\r\n        isLoaded: true\r\n      });\r\n    },250);\r\n    \r\n  }\r\n\r\n  degToCompass = (degree) => {\r\n    const val=parseInt((degree/22.5)+.5);\r\n    const arr=[\"N\",\"NNE\",\"NE\",\"ENE\",\"E\",\"ESE\", \"SE\", \"SSE\",\"S\",\"SSW\",\"SW\",\"WSW\",\"W\",\"WNW\",\"NW\",\"NNW\"];\r\n    return arr[(val % 16)];\r\n  }\r\n\r\n  render() {\r\n    console.log(FILE_NAME + \" render() : this.state :\" ,this.state);\r\n    const width = window.innerWidth * 0.94;\r\n    const height = window.innerHeight * 0.94;\r\n\r\n    return (\r\n      <div>\r\n        <div style={{textAlign:\"right\"}}>\r\n          <select onChange={e=>{\r\n            this.getRawWeatherDataFromApi(e.target.value);\r\n          }}>\r\n            <option value=\"\">Select no of items</option>\r\n            <option value={0} key={\"all__a\"}>All items</option>\r\n            <option value={10} key={\"10__a\"}>10</option>\r\n            <option value={100} key={\"100__a\"}>100</option>\r\n            <option value={1000} key={\"1000__a\"}>1000</option>\r\n            <option value={10000} key={\"10000__a\"}>10000</option>\r\n            <option value={100000} key={\"100000__a\"}>10000</option>\r\n            <option value={1000000} key={\"1000000__a\"}>1000000</option>\r\n          </select>\r\n        </div>\r\n\r\n        {(this.state.isLoaded) ? \r\n        <Card>\r\n          <CardBody>\r\n            <h2>Temperature : {Number(this.state.latestWeatherConditions.temperature).toFixed(2)} ยบ C</h2>\r\n            <h2>Humidity : {this.state.latestWeatherConditions.humidity} % </h2>\r\n            <h2>Pressure : {this.state.latestWeatherConditions.pressure} hPa </h2>\r\n            <h2>Cloudiness : {this.state.latestRawData.clouds.all} % </h2>\r\n            <h2>Sunrise : {new Date(this.state.latestRawData.sys.sunrise * 1000).toLocaleTimeString()} AM</h2>\r\n            <h2>Sunset : {new Date(this.state.latestRawData.sys.sunset * 1000).toLocaleTimeString()} PM</h2>\r\n            \r\n            <h2>Visibility : {this.state.latestRawData.visibility} meters </h2>\r\n            <h2>Wind -speed : {(this.state.latestRawData.wind.speed * 3.6).toFixed(2)} kmph </h2>\r\n            <h2>Wind -direction : {this.degToCompass(this.state.latestRawData.wind.deg)}</h2>\r\n            <h2>{this.state.latestRawData.weather[0].main} {weatherDescription[this.state.latestRawData.weather[0].id]}<img height=\"60px\" src={`https://openweathermap.org/img/wn/${this.state.latestRawData.weather[0].icon}@4x.png`} /></h2>\r\n            \r\n            <h5>last updated : {this.state.latestWeatherConditions.dateAndTime}</h5>\r\n          </CardBody>\r\n        </Card>\r\n        : <Loading /> \r\n        }\r\n        {\r\n          this.state.isLoaded ?\r\n          (<div>\r\n\r\n            <span>\r\n              <b>Change Type :</b>&nbsp;&nbsp;\r\n              <Button color=\"primary\" size=\"lg\" onClick={()=>{this.setState({graphType: \"scatter\"}); this.plotDataForWeather(); }}>scatter TYPE</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button color=\"warning\" size=\"lg\" onClick={()=>{this.setState({graphType: \"bar\"}); this.plotDataForWeather(); }}>bar TYPE</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              CURRENT Type : [ { this.state.graphType } ]\r\n              <br /><br />\r\n            </span>\r\n\r\n            <span>\r\n              <b>Change Mode :</b>&nbsp;&nbsp;\r\n              <Button color=\"primary\" size=\"lg\" onClick={()=>{this.setState({graphMode: \"lines\"}); this.plotDataForWeather(); }}>lines MODE</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button color=\"danger\" size=\"lg\" onClick={()=>{this.setState({graphMode: \"lines+markers\"}); this.plotDataForWeather(); }}>lines+markers MODE</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button color=\"warning\" size=\"lg\" onClick={()=>{this.setState({graphMode: \"markers\"}); this.plotDataForWeather(); }}>markers MODE</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              CURRENT Mode : [ { this.state.graphMode } ]\r\n              <br /><br />\r\n            </span>\r\n\r\n            <Plot\r\n            showlegend={false}\r\n            data={ this.state.dataForPlot_temperature }\r\n            layout={ {width, height, title: 'Temperature - Celsius' } }\r\n            />\r\n\r\n            <br /><hr />\r\n\r\n            <Plot\r\n            showlegend={false}\r\n            data={ this.state.dataForPlot_humidity }\r\n            layout={ {width, height, title: 'Humidity - percent' } }\r\n            />\r\n\r\n            <br /><hr />\r\n\r\n            <Plot\r\n            showlegend={false}\r\n            data={ this.state.dataForPlot_pressure }\r\n            layout={ {width, height, title: 'Pressure - Bar' } }\r\n            />\r\n          </div> ) : <Loading />\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WeatherGraph;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"innerRef\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;"],"sourceRoot":""}